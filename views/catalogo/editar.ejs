<%- include('../partials/header', { title }) %>

<main class="container py-4">
  <h2>Editar Producto</h2>

  <form action="/catalogo/editar/<%= producto.id %>" method="POST" class="border p-4 rounded bg-light">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input type="text" id="nombre" name="nombre" class="form-control" required value="<%= producto.nombre %>">
    </div>

    <div class="mb-3">
      <label for="tipo" class="form-label">Tipo de cálculo</label>
      <select id="tipo" name="tipo" class="form-select" required>
        <option value="unidad" <%= producto.tipo === 'unidad' ? 'selected' : '' %>>Por unidad</option>
        <option value="metro_cuadrado" <%= producto.tipo === 'metro_cuadrado' ? 'selected' : '' %>>Por metro cuadrado (m²)</option>
        <option value="hoja" <%= producto.tipo === 'hoja' ? 'selected' : '' %>>Por hoja</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="precio_base" class="form-label">Precio base (€)</label>
      <input type="number" id="precio_base" name="precio_base" step="0.01" min="0" class="form-control" required value="<%= producto.precio_base %>">
    </div>

    <div class="mb-3">
      <label for="minimo" class="form-label">Cantidad mínima facturable (opcional)</label>
      <input type="number" id="minimo" name="minimo" step="0.1" class="form-control" value="<%= producto.minimo %>">
    </div>

    <div class="text-center mt-4">
      <button class="btn btn-primary px-5" type="submit">💾 Guardar Cambios</button>
      <a href="/catalogo" class="btn btn-secondary ms-2">← Cancelar</a>
    </div>
  </form>
</main>

<%- include('../partials/footer') %>
